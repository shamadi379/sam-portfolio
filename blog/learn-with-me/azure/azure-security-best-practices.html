<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Azure Security Best Practices: Complete Guide 2025 | Sam in Cloud</title>
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta name="description" content="Comprehensive guide to Azure security best practices, Zero Trust implementation, and practical security configurations for cloud specialists.">
    <meta name="robots" content="index, follow">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .hero-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .code-container {
            position: relative;
        }
        
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            padding: 8px 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.2s;
        }
        
        .copy-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        
        .blog-image {
            max-width: 100%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin: 20px 0;
        }
        
        .info-box {
            background: linear-gradient(135deg, #667eea20, #764ba220);
            border-left: 4px solid #667eea;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #f093fb20, #f5576c20);
            border-left: 4px solid #f5576c;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-lg fixed w-full z-50 shadow-lg border-b border-gray-200/50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <a href="../../../index.html" class="text-xl font-bold text-gray-800 tracking-tight">Sam in Cloud</a>
                <div class="flex items-center space-x-6">
                    <a href="../../index.html" class="text-gray-600 hover:text-gray-900 transition-colors duration-200 font-medium">Blog</a>
                    <a href="../../../index.html#contact" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold transition-all duration-200">Contact</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero-bg pt-24 pb-16">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <div class="flex items-center justify-center gap-3 mb-6">
                <i data-feather="shield" class="w-12 h-12 text-white"></i>
                <h1 class="text-4xl md:text-5xl font-bold text-white">Azure Security Best Practices</h1>
            </div>
            <p class="text-xl text-blue-100 mb-8 max-w-3xl mx-auto">
                Complete guide to implementing enterprise-grade security in Azure environments with Zero Trust principles and practical configurations
            </p>
            <div class="flex items-center justify-center gap-6 text-blue-200">
                <span class="flex items-center gap-2">
                    <i data-feather="calendar" class="w-4 h-4"></i>
                    October 7, 2025
                </span>
                <span class="flex items-center gap-2">
                    <i data-feather="clock" class="w-4 h-4"></i>
                    15 min read
                </span>
                <span class="flex items-center gap-2">
                    <i data-feather="user" class="w-4 h-4"></i>
                    Sam Adhikari
                </span>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <article class="max-w-4xl mx-auto px-6 py-12">
        <!-- Introduction -->
        <div class="prose prose-lg max-w-none">
            <img src="https://images.unsplash.com/photo-1563013544-824ae1b704d3?auto=format&fit=crop&w=1200&q=80" alt="Azure Security Architecture" class="blog-image">
            
            <p class="text-lg text-gray-700 leading-relaxed mb-8">
                As organizations increasingly migrate to Azure, implementing robust security measures becomes critical. This comprehensive guide covers essential Azure security best practices, from Identity and Access Management to advanced threat protection, helping you build a secure cloud infrastructure that meets enterprise standards.
            </p>
        </div>

        <!-- Table of Contents -->
        <div class="bg-white rounded-lg p-6 shadow-lg mb-12 border border-gray-200">
            <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                <i data-feather="list" class="w-6 h-6 text-blue-600"></i>
                Table of Contents
            </h2>
            <ol class="space-y-2 text-gray-700">
                <li><a href="#identity-management" class="text-blue-600 hover:text-blue-800 transition-colors">1. Identity and Access Management</a></li>
                <li><a href="#network-security" class="text-blue-600 hover:text-blue-800 transition-colors">2. Network Security Configuration</a></li>
                <li><a href="#data-protection" class="text-blue-600 hover:text-blue-800 transition-colors">3. Data Protection and Encryption</a></li>
                <li><a href="#threat-protection" class="text-blue-600 hover:text-blue-800 transition-colors">4. Advanced Threat Protection</a></li>
                <li><a href="#monitoring" class="text-blue-600 hover:text-blue-800 transition-colors">5. Security Monitoring and Compliance</a></li>
                <li><a href="#automation" class="text-blue-600 hover:text-blue-800 transition-colors">6. Security Automation with PowerShell</a></li>
            </ol>
        </div>

        <!-- Section 1: Identity Management -->
        <section id="identity-management" class="mb-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                <i data-feather="users" class="w-8 h-8 text-blue-600"></i>
                1. Identity and Access Management
            </h2>

            <img src="https://images.unsplash.com/photo-1633265486064-086b219458ec?auto=format&fit=crop&w=1200&q=80" alt="Azure AD Identity Management" class="blog-image">

            <div class="info-box">
                <h3 class="text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2">
                    <i data-feather="info" class="w-5 h-5 text-blue-600"></i>
                    Zero Trust Foundation
                </h3>
                <p class="text-gray-700">
                    Identity is the new security perimeter. Implementing strong identity controls is the foundation of any secure Azure environment.
                </p>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Conditional Access Policies</h3>
            <p class="text-gray-700 mb-4">
                Conditional Access is Azure AD's way of bringing signals together, making decisions, and enforcing organizational policies.
            </p>

            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('conditional-access-policy')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="conditional-access-policy"><code class="language-powershell"># Create Conditional Access Policy for High-Risk Sign-ins
$policy = @{
    displayName = "Block High-Risk Sign-ins"
    state = "enabled"
    conditions = @{
        signInRiskLevels = @("high")
        applications = @{
            includeApplications = @("All")
        }
        users = @{
            includeUsers = @("All")
            excludeUsers = @("emergency-access-account@company.com")
        }
    }
    grantControls = @{
        operator = "OR"
        builtInControls = @("block")
    }
}

# Apply the policy using Microsoft Graph PowerShell
New-MgIdentityConditionalAccessPolicy -BodyParameter $policy</code></pre>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Multi-Factor Authentication</h3>
            <p class="text-gray-700 mb-4">
                Enable MFA for all users, especially administrators, to add an extra layer of security.
            </p>

            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('mfa-policy')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="mfa-policy"><code class="language-powershell"># Enable MFA for all users
$mfaPolicy = @{
    displayName = "Require MFA for All Users"
    state = "enabled"
    conditions = @{
        applications = @{
            includeApplications = @("All")
        }
        users = @{
            includeUsers = @("All")
            excludeUsers = @("emergency-access-account@company.com")
        }
    }
    grantControls = @{
        operator = "OR"
        builtInControls = @("mfa")
    }
}

New-MgIdentityConditionalAccessPolicy -BodyParameter $mfaPolicy</code></pre>
            </div>
        </section>

        <!-- Section 2: Network Security -->
        <section id="network-security" class="mb-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                <i data-feather="shield" class="w-8 h-8 text-blue-600"></i>
                2. Network Security Configuration
            </h2>

            <img src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=1200&q=80" alt="Azure Network Security" class="blog-image">

            <p class="text-gray-700 mb-6">
                Network security is crucial for protecting your Azure resources. Implement network segmentation, firewalls, and monitoring to create defense in depth.
            </p>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Network Security Groups (NSGs)</h3>
            
            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('nsg-rules')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="nsg-rules"><code class="language-powershell"># Create Network Security Group with restrictive rules
$resourceGroup = "rg-production"
$location = "East US"
$nsgName = "nsg-web-tier"

# Create NSG
$nsg = New-AzNetworkSecurityGroup -ResourceGroupName $resourceGroup -Location $location -Name $nsgName

# Allow HTTPS only
$httpsRule = New-AzNetworkSecurityRuleConfig -Name "Allow-HTTPS" -Description "Allow HTTPS" `
    -Access Allow -Protocol Tcp -Direction Inbound -Priority 1000 `
    -SourceAddressPrefix Internet -SourcePortRange * `
    -DestinationAddressPrefix * -DestinationPortRange 443

# Deny all other traffic
$denyAllRule = New-AzNetworkSecurityRuleConfig -Name "Deny-All" -Description "Deny all other traffic" `
    -Access Deny -Protocol * -Direction Inbound -Priority 4000 `
    -SourceAddressPrefix * -SourcePortRange * `
    -DestinationAddressPrefix * -DestinationPortRange *

# Update NSG with rules
$nsg.SecurityRules.Add($httpsRule)
$nsg.SecurityRules.Add($denyAllRule)
Set-AzNetworkSecurityGroup -NetworkSecurityGroup $nsg</code></pre>
            </div>

            <div class="warning-box">
                <h3 class="text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2">
                    <i data-feather="alert-triangle" class="w-5 h-5 text-red-600"></i>
                    Security Warning
                </h3>
                <p class="text-gray-700">
                    Always follow the principle of least privilege when configuring NSG rules. Start with deny-all and only allow necessary traffic.
                </p>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Azure Firewall Configuration</h3>
            
            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('azure-firewall')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="azure-firewall"><code class="language-powershell"># Deploy Azure Firewall with threat intelligence
$firewallName = "fw-hub-eastus"
$publicIPName = "pip-firewall"

# Create public IP for firewall
$publicIP = New-AzPublicIpAddress -ResourceGroupName $resourceGroup -Location $location `
    -Name $publicIPName -AllocationMethod Static -Sku Standard

# Create Azure Firewall
$firewall = New-AzFirewall -Name $firewallName -ResourceGroupName $resourceGroup `
    -Location $location -VirtualNetworkName "vnet-hub" -PublicIpName $publicIPName `
    -ThreatIntelMode "Alert"

# Configure application rules
$appRule = New-AzFirewallApplicationRule -Name "Allow-Microsoft-Services" `
    -Description "Allow access to Microsoft services" `
    -SourceAddress "10.0.0.0/8" `
    -TargetFqdn "*.microsoft.com","*.azure.com","*.office.com" `
    -Protocol "https:443"

$appRuleCollection = New-AzFirewallApplicationRuleCollection -Name "Microsoft-Services" `
    -Priority 100 -ActionType Allow -Rule $appRule

Set-AzFirewall -AzureFirewall $firewall</code></pre>
            </div>
        </section>

        <!-- Section 3: Data Protection -->
        <section id="data-protection" class="mb-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                <i data-feather="lock" class="w-8 h-8 text-blue-600"></i>
                3. Data Protection and Encryption
            </h2>

            <img src="https://images.unsplash.com/photo-1614064641938-3bbee52942c7?auto=format&fit=crop&w=1200&q=80" alt="Data Encryption Azure" class="blog-image">

            <p class="text-gray-700 mb-6">
                Protecting data at rest and in transit is fundamental to Azure security. Implement encryption, key management, and data classification.
            </p>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Azure Key Vault Implementation</h3>
            
            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('key-vault')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="key-vault"><code class="language-powershell"># Create Azure Key Vault with advanced security features
$keyVaultName = "kv-prod-secrets-$(Get-Random)"
$resourceGroup = "rg-production"
$location = "East US"

# Create Key Vault with soft delete and purge protection
$keyVault = New-AzKeyVault -VaultName $keyVaultName -ResourceGroupName $resourceGroup `
    -Location $location -EnableSoftDelete -EnablePurgeProtection `
    -EnabledForDiskEncryption -EnabledForTemplateDeployment

# Configure access policy for current user
$userObjectId = (Get-AzContext).Account.ExtendedProperties.HomeAccountId.Split('.')[0]
Set-AzKeyVaultAccessPolicy -VaultName $keyVaultName -ObjectId $userObjectId `
    -PermissionsToKeys all -PermissionsToSecrets all -PermissionsToCertificates all

# Create a key for disk encryption
$key = Add-AzKeyVaultKey -VaultName $keyVaultName -Name "DiskEncryptionKey" `
    -Destination Software -KeyOps encrypt,decrypt

Write-Output "Key Vault created: $($keyVault.VaultUri)"
Write-Output "Disk encryption key: $($key.Id)"</code></pre>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Disk Encryption</h3>
            
            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('disk-encryption')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="disk-encryption"><code class="language-powershell"># Enable Azure Disk Encryption on VMs
$vmName = "vm-web-prod-01"
$keyVaultResourceId = "/subscriptions/{subscription-id}/resourceGroups/rg-production/providers/Microsoft.KeyVault/vaults/$keyVaultName"
$keyVaultUrl = "https://$keyVaultName.vault.azure.net/"

# Enable encryption for OS and data disks
Set-AzVMDiskEncryptionExtension -ResourceGroupName $resourceGroup -VMName $vmName `
    -DiskEncryptionKeyVaultUrl $keyVaultUrl -DiskEncryptionKeyVaultId $keyVaultResourceId `
    -VolumeType "All" -Force

# Verify encryption status
Get-AzVmDiskEncryptionStatus -ResourceGroupName $resourceGroup -VMName $vmName</code></pre>
            </div>

            <div class="info-box">
                <h3 class="text-lg font-semibold text-gray-800 mb-2 flex items-center gap-2">
                    <i data-feather="info" class="w-5 h-5 text-blue-600"></i>
                    Best Practice
                </h3>
                <p class="text-gray-700">
                    Always enable encryption for both OS and data disks. Use customer-managed keys for sensitive workloads requiring additional control.
                </p>
            </div>
        </section>

        <!-- Section 4: Threat Protection -->
        <section id="threat-protection" class="mb-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                <i data-feather="eye" class="w-8 h-8 text-blue-600"></i>
                4. Advanced Threat Protection
            </h2>

            <img src="https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&w=1200&q=80" alt="Azure Security Center" class="blog-image">

            <p class="text-gray-700 mb-6">
                Microsoft Defender for Cloud provides advanced threat protection across your Azure environment with AI-powered security analytics.
            </p>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Enable Microsoft Defender for Cloud</h3>
            
            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('defender-cloud')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="defender-cloud"><code class="language-powershell"># Enable Microsoft Defender for Cloud on subscription
$subscriptionId = (Get-AzContext).Subscription.Id

# Enable Defender for Servers
Set-AzSecurityPricing -Name "VirtualMachines" -PricingTier "Standard"

# Enable Defender for Storage
Set-AzSecurityPricing -Name "StorageAccounts" -PricingTier "Standard"

# Enable Defender for SQL
Set-AzSecurityPricing -Name "SqlServers" -PricingTier "Standard"

# Enable Defender for Key Vault
Set-AzSecurityPricing -Name "KeyVaults" -PricingTier "Standard"

# Configure security contacts
$securityContact = @{
    Email = "security-team@company.com"
    Phone = "+1-555-0123"
    AlertNotifications = "On"
    AlertsToAdmins = "On"
}

Set-AzSecurityContact @securityContact

Write-Output "Microsoft Defender for Cloud enabled for subscription: $subscriptionId"</code></pre>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Security Recommendations Automation</h3>
            
            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('security-recommendations')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="security-recommendations"><code class="language-powershell"># Get and remediate security recommendations
$recommendations = Get-AzSecurityTask | Where-Object {$_.State -eq "Active"}

foreach ($recommendation in $recommendations) {
    Write-Output "Recommendation: $($recommendation.SecurityTaskName)"
    Write-Output "Severity: $($recommendation.SubState)"
    Write-Output "Resource: $($recommendation.ResourceId)"
    Write-Output "Description: $($recommendation.Description)"
    Write-Output "---"
}

# Auto-remediate specific recommendations
$highPriorityTasks = $recommendations | Where-Object {$_.SubState -eq "High"}

foreach ($task in $highPriorityTasks) {
    switch ($task.SecurityTaskName) {
        "Enable Network Security Groups" {
            # Implement NSG automation
            Write-Output "Implementing NSG for: $($task.ResourceId)"
        }
        "Enable disk encryption" {
            # Implement disk encryption automation
            Write-Output "Enabling encryption for: $($task.ResourceId)"
        }
        default {
            Write-Output "Manual review required for: $($task.SecurityTaskName)"
        }
    }
}</code></pre>
            </div>
        </section>

        <!-- Section 5: Monitoring -->
        <section id="monitoring" class="mb-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                <i data-feather="activity" class="w-8 h-8 text-blue-600"></i>
                5. Security Monitoring and Compliance
            </h2>

            <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=1200&q=80" alt="Azure Monitor Dashboard" class="blog-image">

            <p class="text-gray-700 mb-6">
                Continuous monitoring and compliance tracking are essential for maintaining security posture and meeting regulatory requirements.
            </p>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Azure Sentinel Configuration</h3>
            
            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('sentinel-setup')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="sentinel-setup"><code class="language-powershell"># Deploy Azure Sentinel workspace
$workspaceName = "law-sentinel-prod"
$sentinelResourceGroup = "rg-security"

# Create Log Analytics workspace for Sentinel
$workspace = New-AzOperationalInsightsWorkspace -ResourceGroupName $sentinelResourceGroup `
    -Name $workspaceName -Location $location -Sku "PerGB2018"

# Enable Sentinel on the workspace
$workspaceId = $workspace.ResourceId
$sentinelSolution = @{
    Name = "SecurityInsights($workspaceName)"
    ResourceGroupName = $sentinelResourceGroup
    Location = $location
    WorkspaceName = $workspaceName
}

# Configure data connectors
$connectors = @(
    "AzureActiveDirectory",
    "AzureSecurityCenter", 
    "AzureActivity",
    "SecurityEvents"
)

foreach ($connector in $connectors) {
    Write-Output "Configuring data connector: $connector"
    # Configure each connector based on requirements
}

Write-Output "Azure Sentinel deployed: $($workspace.PortalUrl)"</code></pre>
            </div>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Security Alert Rules</h3>
            
            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('alert-rules')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="alert-rules"><code class="language-powershell"># Create security alert rules in Sentinel
$alertRules = @(
    @{
        Name = "Suspicious Sign-in Activity"
        Query = @"
SigninLogs
| where TimeGenerated > ago(1h)
| where RiskLevelDuringSignIn == "high" or RiskLevelAggregated == "high"
| where ResultType == 0
| project TimeGenerated, UserPrincipalName, AppDisplayName, IPAddress, Location, RiskDetail
"@
        Severity = "High"
        Frequency = "PT1H"
    },
    @{
        Name = "Failed Authentication Attempts"
        Query = @"
SigninLogs
| where TimeGenerated > ago(1h)
| where ResultType != 0
| summarize FailedAttempts = count() by UserPrincipalName, IPAddress
| where FailedAttempts > 5
"@
        Severity = "Medium"
        Frequency = "PT1H"
    }
)

foreach ($rule in $alertRules) {
    Write-Output "Creating alert rule: $($rule.Name)"
    # Create the alert rule using ARM template or REST API
    # This would typically involve creating an ARM template deployment
}</code></pre>
            </div>
        </section>

        <!-- Section 6: Automation -->
        <section id="automation" class="mb-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-6 flex items-center gap-3">
                <i data-feather="zap" class="w-8 h-8 text-blue-600"></i>
                6. Security Automation with PowerShell
            </h2>

            <img src="https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?auto=format&fit=crop&w=1200&q=80" alt="PowerShell Automation" class="blog-image">

            <p class="text-gray-700 mb-6">
                Automate security tasks to ensure consistent application of security policies and rapid response to threats.
            </p>

            <h3 class="text-xl font-semibold text-gray-800 mb-4">Automated Security Assessment</h3>
            
            <div class="code-container mb-6">
                <button class="copy-btn" onclick="copyToClipboard('security-assessment')">
                    <i data-feather="copy" class="w-3 h-3 inline mr-1"></i>Copy
                </button>
                <pre id="security-assessment"><code class="language-powershell"># Comprehensive Azure security assessment script
function Invoke-AzureSecurityAssessment {
    param(
        [string]$SubscriptionId,
        [string]$OutputPath = "./security-assessment.html"
    )
    
    # Set context
    Set-AzContext -SubscriptionId $SubscriptionId
    
    $assessment = @{
        SubscriptionId = $SubscriptionId
        AssessmentDate = Get-Date
        Findings = @()
    }
    
    # Check 1: Virtual Machines without encryption
    Write-Output "Checking VM disk encryption..."
    $vms = Get-AzVM
    foreach ($vm in $vms) {
        $encryptionStatus = Get-AzVmDiskEncryptionStatus -ResourceGroupName $vm.ResourceGroupName -VMName $vm.Name
        if ($encryptionStatus.OsVolumeEncrypted -ne "Encrypted") {
            $assessment.Findings += @{
                Type = "VM Disk Encryption"
                Severity = "High"
                Resource = $vm.Name
                Issue = "OS disk not encrypted"
                Recommendation = "Enable Azure Disk Encryption"
            }
        }
    }
    
    # Check 2: Storage accounts without encryption
    Write-Output "Checking storage account encryption..."
    $storageAccounts = Get-AzStorageAccount
    foreach ($account in $storageAccounts) {
        if (-not $account.Encryption.Services.Blob.Enabled) {
            $assessment.Findings += @{
                Type = "Storage Encryption"
                Severity = "High"
                Resource = $account.StorageAccountName
                Issue = "Blob encryption not enabled"
                Recommendation = "Enable storage service encryption"
            }
        }
    }
    
    # Check 3: Network Security Groups with permissive rules
    Write-Output "Checking NSG configurations..."
    $nsgs = Get-AzNetworkSecurityGroup
    foreach ($nsg in $nsgs) {
        $permissiveRules = $nsg.SecurityRules | Where-Object {
            $_.SourceAddressPrefix -eq "*" -and 
            $_.DestinationPortRange -eq "*" -and 
            $_.Access -eq "Allow"
        }
        if ($permissiveRules) {
            $assessment.Findings += @{
                Type = "Network Security"
                Severity = "Medium"
                Resource = $nsg.Name
                Issue = "Overly permissive NSG rules"
                Recommendation = "Implement principle of least privilege"
            }
        }
    }
    
    # Generate HTML report
    $html = @"
<!DOCTYPE html>
<html>
<head>
    <title>Azure Security Assessment Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .header { background-color: #0078d4; color: white; padding: 20px; border-radius: 5px; }
        .finding { margin: 10px 0; padding: 15px; border-left: 4px solid; }
        .high { border-color: #dc3545; background-color: #f8d7da; }
        .medium { border-color: #ffc107; background-color: #fff3cd; }
        .low { border-color: #28a745; background-color: #d4edda; }
    </style>
</head>
<body>
    <div class="header">
        <h1>Azure Security Assessment Report</h1>
        <p>Subscription: $($assessment.SubscriptionId)</p>
        <p>Assessment Date: $($assessment.AssessmentDate)</p>
        <p>Total Findings: $($assessment.Findings.Count)</p>
    </div>
"@
    
    foreach ($finding in $assessment.Findings) {
        $cssClass = $finding.Severity.ToLower()
        $html += @"
    <div class="finding $cssClass">
        <h3>$($finding.Type) - $($finding.Severity)</h3>
        <p><strong>Resource:</strong> $($finding.Resource)</p>
        <p><strong>Issue:</strong> $($finding.Issue)</p>
        <p><strong>Recommendation:</strong> $($finding.Recommendation)</p>
    </div>
"@
    }
    
    $html += "</body></html>"
    $html | Out-File -FilePath $OutputPath -Encoding UTF8
    
    Write-Output "Security assessment completed. Report saved to: $OutputPath"
    return $assessment
}

# Run the assessment
$assessment = Invoke-AzureSecurityAssessment -SubscriptionId "your-subscription-id"</code></pre>
            </div>
        </section>

        <!-- Conclusion -->
        <section class="mb-16">
            <h2 class="text-3xl font-bold text-gray-800 mb-6">Conclusion</h2>
            <div class="bg-gradient-to-r from-blue-50 to-purple-50 p-8 rounded-lg border border-blue-200">
                <p class="text-lg text-gray-700 leading-relaxed mb-4">
                    Implementing comprehensive Azure security requires a multi-layered approach covering identity, network, data, and application security. The practices and scripts outlined in this guide provide a solid foundation for building secure Azure environments.
                </p>
                <p class="text-gray-700 leading-relaxed">
                    Remember that security is an ongoing process. Regularly review and update your security configurations, monitor for new threats, and stay informed about the latest Azure security features and best practices.
                </p>
            </div>
        </section>

        <!-- Call to Action -->
        <div class="bg-white rounded-lg p-8 shadow-lg border border-gray-200 text-center">
            <h3 class="text-2xl font-bold text-gray-800 mb-4">Need Help with Azure Security?</h3>
            <p class="text-gray-600 mb-6">Let's discuss how to implement these security best practices in your Azure environment.</p>
            <a href="../../../index.html#contact" class="inline-flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-lg font-semibold transition-all duration-200">
                <i data-feather="mail" class="w-4 h-4"></i>
                Get in Touch
            </a>
        </div>
    </article>

    <!-- Navigation -->
    <div class="max-w-4xl mx-auto px-6 pb-12">
        <div class="flex justify-between items-center bg-white rounded-lg p-6 shadow-lg border border-gray-200">
            <a href="../../index.html" class="flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors">
                <i data-feather="arrow-left" class="w-4 h-4"></i>
                <span>Back to Blog</span>
            </a>
            <a href="../../../index.html" class="flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors">
                <span>Home</span>
                <i data-feather="home" class="w-4 h-4"></i>
            </a>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-gray-300 py-8 mt-16">
        <div class="max-w-4xl mx-auto px-6 text-center">
            <p>© 2025 Sam Adhikari • Cloud Solutions Specialist</p>
        </div>
    </footer>

    <script>
        feather.replace();
        
        function copyToClipboard(elementId) {
            const element = document.getElementById(elementId);
            const text = element.innerText;
            navigator.clipboard.writeText(text).then(function() {
                // Show feedback
                const btn = element.parentElement.querySelector('.copy-btn');
                const originalText = btn.innerHTML;
                btn.innerHTML = '<i data-feather="check" class="w-3 h-3 inline mr-1"></i>Copied!';
                feather.replace();
                setTimeout(() => {
                    btn.innerHTML = originalText;
                    feather.replace();
                }, 2000);
            });
        }
    </script>
</body>
</html>